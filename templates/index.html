<!DOCTYPE html>
<html>
<head>
	
  <title>StreamBack-Test</title>

<!-- 	<link rel="stylesheet" type="text/css" href="/style.css">
	<script type="text/javascript" src="/script.js"></script> -->
	<!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    	integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.min.js"></script>
</head>
<body>
	<h1>Stream Message System</h1>

	<form method="POST">
	  <div class="form-group">
	    <label for="userName">User Name:</label>
	    <input type="text" class="form-control" id="UserName" placeholder="Enter user name">    
	  </div>
	  <div class="form-group">
	    <label for="userMessage">Message:</label>
	    <input type="text" class="form-control" id="UserMessage" placeholder="Enter message">
	  </div>
	  <button type="submit" class="btn btn-primary">Submit</button>
	</form>

	
	<script>
		var socket = io.connect('http://' + document.domain + ':' + location.port)

		socket.on('connect', () => {
		    socket.emit('event', {
		        data: 'User Connected'
		    })
		})

    socket.on('response', (msg) => {
        console.log( msg )
        if(typeof msg.usrName !== 'undefined') {
          // $('h1').remove()
          $('div.message_holder').append('<div class="msg_bbl"><b style="color: #000">'+msg.usrName+'</b> '+msg.usrInput+'</div>')
        }
    })

	</script>
</body>

</html>